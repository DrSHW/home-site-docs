---
description: 计算机网络
layout: ../../../layouts/MainLayout.astro
---

## 3.2 组帧

### 3.2.1 封装成帧的过程

**封装成帧** ：在一段数据的前后部分添加首部和尾部，这样就构成了一个帧。接收端在收到物理层上交的比特流后，就能根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束。

首部和尾部包含许多的控制信息，他们的一个重要作用： **帧定界** （确定帧的界限）。

**帧同步** ： **接收方** 应当能从接收到的二进比特流中区分出帧的起始和终止。

![image-20221231213249837](https://images.drshw.tech/images/notes/image-20221231213249837.png)

### 3.2.2 透明传输与组帧的过程

**透明传输** ：不管所传的数据是什么样的比特组合，都应当能够在链路上传送。因此，链路层就"看不见"有什么妨碍数据传输的东西。

当所传数据中的比特组合恰巧与某一个控制信息完全一样时，就必须采取适当的措施，使收方不会将这样的错误数据误认为是某种控制信息。这样才能保证数据链路层的传输是透明的。

**组帧的四种方法** ：

1. **字符计数法**

   基本原理：

   帧首部使用一个计数字段（第一个 **字节** ，八位）来标明镇内字符数。（易出错，不常用）

   ![image-20221231213322185](https://images.drshw.tech/images/notes/image-20221231213322185.png)

2. **字符（节）填充法**

   基本原理：

   ① 当传送的帧是由文本文件组成时（文本文件的字符都是从键盘上输入的，都是ASCII码）。不管键盘上输入的什么字符都可以放在帧里传过去，即 **透明传输** 。

   ② 当传送的帧是由非ASCII码的文本文件组成时（二进制代码的程序或图像等）。就要 **采用字符填充方法实现透明传输** 。

   实现过程：

   添加转义字符。即对于那些与标记字符重复的数据流，在它们的前面添加一段转义字符（ESC），这样接收方在解析帧时，看到这些转义字符就不会认为那些特殊的数据当成帧的开始/结束了。

   ![image-20221231213524422](https://images.drshw.tech/images/notes/image-20221231213524422.png)

3. **零比特填充法（5 "1" 1 "0"）**

   实现过程：

   ① 在发送端，扫描整个信息字段，只要连续5个1，就立即填入1个0。

   ② 在接收端收到一个帧时，先找到标志字段确定边界，再用硬件对比特流进行扫描。当发现连续5个1时，就把后面的0删除。

   ![image-20221231213554050](https://images.drshw.tech/images/notes/image-20221231213554050.png)

   **保证了透明传输：** 在传送的比特流中可以传送任意比特组合，而不会引起对帧边界的判断错误。

4. **违规编码法**

   基本原理：

   因为曼切斯特编码不采用"高-高"，"低-低"来表示，所以如果 **使用"高-高"，"低-低"来表示起始和终止** 就不会与数据冲突

   ![image-20221231213640442](https://images.drshw.tech/images/notes/image-20221231213640442.png)

由于字节计数法中Count字段的脆弱性（其值若有差错将导致灾难性后果）及字符填充实现上的复杂性不兼容性，目前较普遍使用的帧同步法 **比特填充** 和 **违规编码法。**
