---
description: 计算机网络
layout: ../../../layouts/MainLayout.astro
---

## 1.2 计算机网络体系结构与参考模型

### 1.2.1 分层结构

这里的“层”指的是**软件模块**。

分层的基本原则：

1. 各层之间相互**独立**，每层只实现一种相对独立的功能。
2. 每层之间**界面自然清晰**，易于理解，相互交流尽可能少。
3. 结构上可以分割开。每层都采用最合适的技术来实现。
4. 保持**下层**对**上层**的独立性， **上层单向使用下层提供的服务** 。
5. 整个分层结构应该能促进标准化工作。

一些概念：

+ **实体** ：第n层中活动元素称为**n层实体**。同一层的实体叫**对等实体**。

+ **协议** ：为进行网络中的**对等实体**数据交换而建立的规则、标准或约定称为网络协议。（是水平的）

   ![QQ图片20221230211651](https://images.drshw.tech/images/notes/QQ%E5%9B%BE%E7%89%8720221230211651.png)

+ **接口（访问服务点SAP ）** ：上层使用下层服务的入口。
+ **服务** ：下层为相邻上层提供的功能调用。（是垂直的）

SDU服务数据单元：为完成用户所要求的功能而应传送的数据。（每次传输的数据中有用的部分）

PCI协议控制信息：控制协议操作的信息。

PDU协议数据单元：对等层次之间传送的数据单位。

<img src="https://images.drshw.tech/images/notes/image-20221230212228344.png" alt="image-20221230212228344" style="zoom: 33%;" />

概念总结：

1. 网络体系结构是从**功能**上描述计算机网络结构。
2. 计算机网络体系结构简称网络体系结构是**分层结构**。
3. 每层遵循某个/些**网络协议**已完成本层功能。
4. **计算机网络体系结构**是计算机网络的**各层及其协议**的集合。
5. 第`n`层在向第`n+1`层提供服务时，此服务不仅包含第`n`层本身的功能，还包含由下层服务提供的功能。
6. 仅仅在**相邻层有接口**，且所提供服务的具体实现细节对上一层完全屏蔽。
7. 体系结构是**抽象**的，而实现是指能运行发一些软件和硬件。

### 1.2.2 OSI参考模型

参考模型即**网络体系结构**的**模板**。

发展史：

![image-20221230212528044](https://images.drshw.tech/images/notes/image-20221230212528044.png)

**OSI**  **七层结构**

|   7 应用层   |
| :----------: |
|   6 表示层   |
|   5 会话层   |
|   4 传输层   |
|   3 网络层   |
| 2 数据链路层 |
|   1 物理层   |



5~7层为 资源子网（数据处理）

每层都有特定的功能

![image-20221230212623761](https://images.drshw.tech/images/notes/image-20221230212623761.png)

![image-20221230212614844](https://images.drshw.tech/images/notes/image-20221230212614844.png)

① 应用层：用户与网络的界面，所有能和用户产生网络流量的程序。

典型应用层服务：文件传输（FTP）、电子邮件（SMTP）、万维网（HTTP），etc.。

② 表示层：用于处理在两个通信系统中交换信息的表示方式（语法和语义）。

​	**功能1：数据格式变换**

​	**功能2：数据加密解密**

​	**功能3：数据压缩和恢复**

主要协议：JPEG ASCII（了解即可）

③ 会话层：向表示测不过实体/用户进程提供建立连接并在连接上有序地传输数据，即建立同步（SYN）。

​	**功能1：建立、管理、终止会话**

​	**功能2 ：时延校验点可使会话在通信失效时从<u>校验点/同步点</u>继续恢复通信，实现数据同步。** （适用于传输大文件）

④ 传输层：负责主机中两个进程的通信，即端到端的通信。传输单位是报文段或用户数据报。

​	**功能1：可靠传输、不可靠传输**

​	**功能2：差错控制**

​	**功能3：流量控制（控制发送方的速度）**

​	**功能4：复用分用**

+ **复用：多个应用层进程可同时使用下面运输层的服务。**
+ **分用：运输层把收到的信息分别交付给上面应用层中相应的进程。**

主要协议：TCP/IP

⑤ 网络层：把分组从源端传到目的端，为分组交换网上的不同主机提供服务。传输单位是数据报。

​	**功能1：路由选择** （最佳路径）

​	**功能2：流量控制**

​	**功能3：差错控制**

​	**功能4：拥塞控制**

+ 若所有结点都来不及接受分组，而要丢弃大量分组，网络就处于拥塞状态。因此要采取一定措施，缓解这种拥塞。

⑥ 数据链路层：把网络层传下来的数据报组装成帧，传输单位是 **帧** 。

​	**功能1：成帧（定义帧的开始和结束）**

​	**功能2：差错控制**  **帧错+位错**

​	**功能3：流量控制**

​	**功能4：访问（接入）控制**  **控制对信道的访问**

主要协议：SDLC、HDLC、PPP、STP

⑦ 物理层：在物理媒体上实现比特流的透明传输，传输单位是比特。

透明传输：指不管所传数据是什么样的比特组合，都应该能够在链路上传送。

​	**功能1：定义接口特性**

​	**功能2：定义传输模式 单工、半双工、双工**

​	**功能3：定义传输速率**

​	**功能4：比特同步**

​	**功能5：差分编码**

主要协议：Rj45、802.3

### 1.2.3 TCP/IP参考模型

![image-20221230213146827](https://images.drshw.tech/images/notes/image-20221230213146827.png)

OSI参考模型与TCP/IP参考模型相同点：

1. 都分层
2. 基于独立的协议栈的概念
3. 可以实现异构网络互联

OSI参考模型与TCP/IP参考模型不同点：

1. OSI定义三点：服务、协议、接口
2. OSI先出现，参考模型先于协议发明，不偏向特定协议
3. TCP/IP设计之初就考虑到易构网互联的问题，将IP作为重要层次
4. ![image-20221230213201905](https://images.drshw.tech/images/notes/image-20221230213201905.png)

**面向连接**分为三个阶段，第一是建立连接，在此阶段，发出一个建立连接的请求。只有在连接建立成功之后，才能开始数据传输，这是第二阶段。接着，当数据传输完毕，必须释放连接。而面向**无连接**没有这么多阶段，它直接进行数据传输。

五层参考模型：

1. 应用层：支持各种网络应用。

   协议：FTP、SMTP、HTTP

2. 传输层：进程-进程的数据传输。

   协议：TCP、UDP

3. 网络层：源主机到目的主机的数据分组路由与转发

   协议：IP、ICMP、OSPF

4. 数据链路层：把网络层传下来的数据组装成帧。

   协议：Ethernet、PPP

5. 物理层：比特传输

五层参考模型的封装与解封装

![image-20221230213249474](https://images.drshw.tech/images/notes/image-20221230213249474.png)

### 1.2.4 本节总结

![image-20221230213349433](https://images.drshw.tech/images/notes/image-20221230213349433.png)

![image-20221230213340514](https://images.drshw.tech/images/notes/image-20221230213340514.png)

![image-20221230213400191](https://images.drshw.tech/images/notes/image-20221230213400191.png)
